<?xml version="1.0"?>
<Container version="2">
  <Name>trivia</Name>
  <Repository>ghcr.io/schartrand77/trivia:latest</Repository>
  <Registry>https://github.com/schartrand77/trivia/pkgs/container/trivia</Registry>
  <Network>bridge</Network>
  <Privileged>false</Privileged>
  <Support>https://github.com/schartrand77/trivia/issues</Support>
  <Project>https://github.com/schartrand77/trivia</Project>
  <Overview><![CDATA[
Stores Huddle Trivia â€” a lightweight React trivia SPA served by nginx.
<br/><br/>
Deploy this container and bind an `appdata` folder to `/data` so player records and game history persist across container restarts. The application serves a web UI on port 80 inside the container (map to any host port you prefer).
]]></Overview>
  <Category>Entertainment:Games:</Category>
  <WebUI>http://[IP]:[PORT:8080]/</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/schartrand77/trivia/main/unraid-community-templates/trivia.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/schartrand77/trivia/main/public/banner.svg</Icon>

  <!-- Port exposed by the container, mapped by Unraid UI -->
  <Config Name="Web UI Port" Target="80" Default="8080" Mode="tcp" Description="Container web UI port (nginx)" Type="Port" Display="always" Required="true" Mask="false"/>

  <!-- Persistent data path (host -> /data in container) -->
  <Config Name="App Data" Target="/data" Default="/mnt/user/appdata/trivia" Description="Path on the Unraid host to store application data (player records)" Type="Path" Display="always" Required="true"/>

  <!-- Common environment variables -->
  <Config Name="Timezone" Target="TZ" Default="Etc/UTC" Description="Timezone" Type="Variable" Display="always" Required="false" Mask="false"/>
  <Config Name="PUID" Target="PUID" Default="99" Description="User id for file permissions" Type="Variable" Display="always" Required="false" Mask="false"/>
  <Config Name="PGID" Target="PGID" Default="100" Description="Group id for file permissions" Type="Variable" Display="always" Required="false" Mask="false"/>

</Container>
<?xml version="1.0"?>
<Container templateVersion="1">
  <Name>trivia</Name>
  <DisplayName>Trivia (React)</DisplayName>
  <Repository>schartrand77/trivia:latest</Repository>
  <Registry>dockerhub</Registry>
  <Overview>Trivia React SPA served by nginx. Build and push the Docker image then deploy on Unraid.</Overview>
  <Author>Stephen Chartrand</Author>
  <Website>https://github.com/schartrand77/trivia</Website>
  <Support>https://github.com/schartrand77/trivia/issues</Support>
  <Project>https://github.com/schartrand77/trivia</Project>
  <Repository>https://github.com/schartrand77/trivia</Repository>
  <Network>bridge</Network>

  <Ports>
    <Port>
      <ContainerPort>80</ContainerPort>
      <HostPort>8080</HostPort>
      <Protocol>tcp</Protocol>
      <Description>Web UI</Description>
      <WebUI>http://[IP]:[PORT:8080]/</WebUI>
    </Port>
  </Ports>

  <Config>
    <Environment>
      <Variable>
        <Name>TZ</Name>
        <Default>Etc/UTC</Default>
        <Description>Timezone</Description>
      </Variable>
      <Variable>
        <Name>PUID</Name>
        <Default>99</Default>
        <Description>UID for file permissions (optional)</Description>
      </Variable>
      <Variable>
        <Name>PGID</Name>
        <Default>100</Default>
        <Description>GID for file permissions (optional)</Description>
      </Variable>
    </Environment>
  </Config>

  <Volumes>
    <Volume>
      <Container>/data</Container>
      <Host></Host>
      <Description>Application data directory (player records, game history, database)</Description>
      <Mode>rw</Mode>
    </Volume>
  </Volumes>

  <PostInst>
    <Line>This template is pre-configured to use the image <b>schartrand77/trivia:latest</b> from Docker Hub.</Line>
    <Line>If you want to use a different image, edit the <b>&lt;Repository&gt;</b> field (for example <i>yourname/trivia:latest</i>).</Line>
    <Line>Set `HostPort` as desired and configure any environment variables.</Line>
  </PostInst>
</Container>
