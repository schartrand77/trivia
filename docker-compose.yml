services:
  trivia:
    build:
      context: .
      dockerfile: Dockerfile
    image: ${IMAGE_NAME}:${IMAGE_TAG}
    container_name: ${CONTAINER_NAME}
    hostname: ${CONTAINER_HOSTNAME}
    ports:
      - "${PORT_HOST}:${PORT_CONTAINER}"
    environment:
      TZ: ${TZ}
    volumes:
      - ${DATA_VOLUME}:/data  # Mount local data directory for persistent player records
    restart: ${RESTART_POLICY}
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost/"]
      interval: ${HEALTHCHECK_INTERVAL}s
      timeout: ${HEALTHCHECK_TIMEOUT}s
      retries: ${HEALTHCHECK_RETRIES}
      start_period: ${HEALTHCHECK_START_PERIOD}s
    networks:
      - trivia-net

networks:
  trivia-net:
    driver: ${NETWORK_DRIVER}


